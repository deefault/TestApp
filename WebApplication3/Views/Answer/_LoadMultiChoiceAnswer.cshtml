@model MultiChoiceAnswer
@{
    List<int> checkedOptionIds = ViewBag.checkedOptionIds;
    List<int> rightOptionIds = ViewBag.rightOptionIds;
    var Quesion = Model.Question as MultiChoiceQuestion;
}
<form method="post">
    <div>
    <h5 style="margin-top: 1rem;">@Model.Question.Title</h5>
    </div>
    <input type="hidden" value="@Model.Id">
    <fieldset class="form-group row" id="options">
        <div class="col-sm-10">
            <table class="table item-table">
                <tbody id="item-table__body">
                @if (Model.AnswerOptions.Count != 0)
                {
                    foreach (var option in Model.AnswerOptions)
                     {
                         if (Model.TestResult.IsCompleted)
                         {
                             if (option.Checked)
                             {
                                 <tr class="item-table__row @(option.Checked == option.Option.IsRight
                                                                  ? "bg-success text-white"
                                                                  : "bg-danger text-white")">
                                     <td class="item-table__cell">
                                         <label id="inputContainer" class="form-check-label">
                                             <input name="option" type="checkbox" option-id="@option.OptionId"
                                                    group="Options" checked>
                                             @option.Option.Text
                                         </label>
                                     </td>
                                 </tr>
                             }
                             else
                             {
                                 <tr class="item-table__row @(option.Option.IsRight
                                                                  ? "bg-warning text-white"
                                                                  : "")">
                                     <td class="item-table__cell">
                                         <label id="inputContainer" class="form-check-label">
                                             <input name="option" type="checkbox" option-id="@option.OptionId"
                                                    group="Options">
                                             @option.Option.Text
                                         </label>
                                     </td>
                                 </tr>
                             }
                         }
                         else
                         {
                             <tr class="item-table__row">
                                 <td class="item-table__cell">
                                     <label class="form-check-label">
                                         <input name="option" type="checkbox" @(option.Checked ?"checked":"") option-id="@option.Option.Id" group="Options">
                                         @option.Option.Text
                                     </label>
                                 </td>
                             </tr>
                         }
                     }
                }
                else
                {
                    foreach (var option in Model.AnswerOptions)
                    {
                        <tr class="item-table__row">
                            <td class="item-table__cell">
                                <label class="form-check-label">
                                    <input name="option" type="checkbox" option-id="@option.Option.Id" group="Options">
                                    @option.Option.Text
                                </label>
                            </td>
                        </tr>
                    }
                }
               
                
                @{
                    /*
                        if (Model.AnswerOptions.Count !=0)
                        {
                            <tr class="item-table__row">
                                <td class="item-table__cell">
                                    <label class="form-check-label">
                                        <input name="option" type="checkbox" @(checkedOptionsIds.Contains(option.Id)?"checked":"") option-id="@option.Id" group="Options">
                                        @option.Text
                                    </label>
                                </td>
                            </tr>
                        }
                        else
                        {
                            <tr class="item-table__row">
                                <td class="item-table__cell">
                                    <label class="form-check-label">
                                        <input name="option" type="checkbox"  option-id="@option.Id" group="options">
                                        @option.Text
                                    </label>
                                </td>
                            </tr>
                        }
                        */
                }
                </tbody>
            </table>
        </div>
    </fieldset>
</form>